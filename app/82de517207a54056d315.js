(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{179:function(t,e,s){"use strict";s(44);var r,a=s(5),n=s.n(a),i=(s(25),{props:["name","username","lastName","id"],data:function(){return{timeout:4e3,context:"success",snackbar:!0,message:"",formName:this.name,formUsername:this.username,formLastName:this.lastName}},methods:{onSubmit:(r=n()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,this.id?this.$axios.patch("/users/".concat(this.id),{name:this.formName,lastName:this.formLastName,username:this.formUsername}).then(function(t){return t.data}):(this.$axios.post("/users",{name:this.formName,lastName:this.formLastName,username:this.formUsername}).then(function(t){return t.data}),this.$router.push({name:"users"})),t.next=10;break;case 4:return t.prev=4,t.t0=t.catch(0),this.context="error",this.snackbar=!0,this.message="Something went wrong :/",t.abrupt("return",console.error(t.t0));case 10:this.context="success",this.snackbar=!0,this.message="User Saved!",this.$emit("updateduser",{username:this.username,name:this.name,lastName:this.lastName});case 14:case"end":return t.stop()}},t,this,[[0,4]])})),function(){return r.apply(this,arguments)})}}),o=s(3),u=Object(o.a)(i,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("v-card",[s("v-subheader",{domProps:{textContent:t._s("Let's Fill that User Data")}}),t._v(" "),s("v-card-text",[s("v-container",{attrs:{fluid:""}},[s("v-layout",{attrs:{"row-sm":"","column-xs":""}},[s("v-flex",{attrs:{xs12:"",sm4:""}},[s("v-subheader",{staticClass:"grey--text text--lighten-1"},[t._v("Username")])],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm8:""}},[s("v-text-field",{staticClass:"input-group",attrs:{name:"input-1-3",label:"In-site name",required:"","single-line":"",dark:"","prepend-icon":"account"},model:{value:t.formUsername,callback:function(e){t.formUsername=e},expression:"formUsername"}})],1)],1),t._v(" "),s("v-layout",{attrs:{"row-sm":"","column-xs":""}},[s("v-flex",{attrs:{xs12:"",sm4:""}},[s("v-subheader",{staticClass:"grey--text text--lighten-1"},[t._v("Name")])],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm8:""}},[s("v-text-field",{staticClass:"input-group",attrs:{name:"input-2-3",label:"Real name",required:"","prepend-icon":"account","single-line":"",dark:""},model:{value:t.formName,callback:function(e){t.formName=e},expression:"formName"}})],1)],1),t._v(" "),s("v-layout",{attrs:{"row-sm":"","column-xs":""}},[s("v-flex",{attrs:{xs12:"",sm4:""}},[s("v-subheader",{staticClass:"grey--text text--lighten-1"},[t._v("Last Name")])],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm8:""}},[s("v-text-field",{attrs:{name:"input-3-3",label:"your last name",required:"","prepend-icon":"account","single-line":"",dark:""},model:{value:t.formLastName,callback:function(e){t.formLastName=e},expression:"formLastName"}})],1)],1)],1),t._v(" "),s("v-snackbar",{attrs:{timeout:t.timeout,success:"success"===t.context,error:"error"===t.context},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n        "+t._s(t.message)+"\n      ")])],1),t._v(" "),s("v-card-actions",[t.id?t._e():s("v-btn",{staticClass:"orange--text",attrs:{type:"reset",flat:"",ripple:"",dark:""}},[t._v("Reset")]),t._v(" "),s("v-btn",{staticClass:"green--text",attrs:{type:"submit",flat:"",ripple:"",dark:""}},[t._v("Save User")])],1)],1)],1)},[],!1,null,null,null);u.options.__file="UserForm.vue";e.a=u.exports},185:function(t,e,s){"use strict";s.r(e);s(44);var r,a,n=s(5),i=s.n(n),o=s(179),u={head:function(){return{title:this.subtitle}},fetch:(a=i()(regeneratorRuntime.mark(function t(e){var s,r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.store,e.params,r=e.app,a=[],t.next=4,r.$axios.get("/users").then(function(t){return t.data});case 4:a=t.sent,s.commit("users/setUsers",a);case 6:case"end":return t.stop()}},t,this)})),function(t){return a.apply(this,arguments)}),data:function(){return{subtitle:"Users",dialog:!1,urlImg:function(t){return"https://randomuser.me/api/portraits/men/".concat(t,".jpg")}}},components:{UserForm:o.a},methods:{showAddUser:function(){this.dialog=!0},updateList:(r=i()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.get("/users").then(function(t){return t.data});case 3:e=t.sent,t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",console.error(t.t0));case 9:this.$store.commit("users/setUsers",e),this.dialog=!1;case 11:case"end":return t.stop()}},t,this,[[0,6]])})),function(){return r.apply(this,arguments)})}},l=s(3),c=Object(l.a)(u,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{row:""}},[s("div",{staticStyle:{position:"relative"}},[s("v-subheader",{attrs:{dark:""},domProps:{textContent:t._s(t.subtitle)}}),t._v(" "),s("v-btn",{attrs:{absolute:"",dark:"",fab:""},on:{click:t.showAddUser}},[s("v-icon",[t._v("add")])],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.dialog?s("user-form",{on:{updateduser:t.updateList}}):t._e(),t._v(" "),s("v-btn",{attrs:{flat:""},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Cancel")])],1),t._v(" "),s("v-flex",{staticStyle:{height:"600px",overflow:"auto"},attrs:{xs12:"",sm6:""}},[t.$store.state.users.list.length>0?s("v-list",{attrs:{"two-line":""}},[t._l(t.$store.state.users.list,function(e,r){return[s("v-list-tile",{directives:[{name:"ripple",rawName:"v-ripple"}],key:r,attrs:{avatar:"",router:"",to:{name:"users-id",params:{id:e.id}}}},[s("v-list-tile-avatar",[s("img",{attrs:{src:t.urlImg(e.id)}})]),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",{domProps:{innerHTML:t._s(e.username)}}),t._v(" "),s("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e.lastName)}})],1)],1)]})],2):t.dialog?t._e():s("user-form",{on:{updateduser:t.updateList}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("nuxt-child")],1)],1)},[],!1,null,null,null);c.options.__file="index.vue";e.default=c.exports}}]);